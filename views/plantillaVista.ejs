<!--Plantilla general para usar para crear las vistas usuarios/asignaturas-->

<%- include('_partials/_header.ejs') %>

<div class="container">

  <div class="row">
    <!--FORMULARIO DE AÑADIR-->
    <div class="col-md-5">
      <div class="card">
        <div class="card-body">
          <form action="/tasks/add" method="post">     <!--Aquí definimos la ruta y el tipo de end-point (get,post,etc)-->
            <div class="form-group">
              <input class="form-control" type="text" name="title" placeholder="Title">
            </div>
            <div class="form-group">
              <textarea class="form-control" name="description" cols="80"
                placeholder="Add a Description"
                ></textarea>
            </div>
            <button class="btn btn-primary" type="submit">
              Add
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- LISTA DE 'TIPO DE DATOS A MOSTRAR' -->
    <div class="col-md-7">

      <div class="col-md-5">
        <div class="card">
          <div class="card-body">
            <form action="/asignaturas/add" method="post">
              <div class="form-group">
                <input class="form-control" type="text" name="title" placeholder="Title">
              </div>
              <div class="form-group">
                <textarea class="form-control" name="description" cols="80"
                  placeholder="Add a Description"
                  ></textarea>
              </div>
              <button class="btn btn-primary" type="submit">
                Add
              </button>
            </form>
          </div>
        </div>
      </div>
  

      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>N°</th>
            <th>Title</th>
            <th>Description</th>
            <th>Operations</th>
          </tr>
        </thead>
        <tbody>
          <% for(var i=0; i < tasks.length; i++) { %>     <!--Bucle para reger todos los datos de la lista -->
            <tr>
              <td><%= i + 1%></td>
              <td><strong><%= tasks[i].title %></strong></td>
              <td><%= tasks[i].description %></td>
              <td>
                <a
                  class="<%= tasks[i].status ? 'btn btn-success' : 'btn btn-dark'%>"
                  href="/tasks/turn/<%= tasks[i]._id %>">Done</a>
                <a href="/tasks/delete/<%= tasks[i]._id %>"
                  class="btn btn-danger">
                  Delete
                </a>
                <a href="/tasks/edit/<%= tasks[i]._id %>" class="btn btn-info">
                  Edit
                </a>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>

    </div>
  </div>

</div>

<%- include('partials/_footer.ejs') %>
